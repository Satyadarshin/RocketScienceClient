{"remainingRequest":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/satyadarshin/Documents/www/development/rocket-science/client/src/components/AuthorTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/src/components/AuthorTable.vue","mtime":1598295505105},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uU3dpdGNoZXIgZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb25Td2l0Y2hlcicKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZWFyY2g6ICcnLCAvL2ZvciB0YWJsZSBzZWFyY2gKICAgICAgICAgICAgc2VhcmNoZWQ6IFtdLCAvL2ZvciB0YWJsZSBzZWFyY2gKICAgICAgICAgICAgc29ydEtleTogJ25hbWUnLAogICAgICAgICAgICBzb3J0RGlyZWN0aW9uOiAnYXNjJywKICAgICAgICAgICAgY29sdW1uczogWyduYW1lJywgJ2Jvcm4nLCAnZGllZCddLAogICAgICAgICAgICB0aGVEYXRlOiAnJywKICAgICAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgICAgICAgY291bnQ6IDEKICAgICAgICB9CiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICBhdXRob3JMaXN0OiBBcnJheQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBhcHBQYWdpbmF0aW9uU3dpdGNoZXI6IFBhZ2luYXRpb25Td2l0Y2hlcgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzb3J0Qnkoc29ydENyaXRlcmlhKSB7CiAgICAgICAgICAgIGlmIChzb3J0Q3JpdGVyaWEgPT09IHRoaXMuc29ydEtleSkgewogICAgICAgICAgICAgICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gKHRoaXMuc29ydERpcmVjdGlvbiA9PT0gJ2FzYycpID8gJ2Rlc2MnOidhc2MnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zb3J0S2V5ID0gc29ydENyaXRlcmlhCiAgICAgICAgfSwKICAgICAgICBsYXN0Rmlyc3RMYXN0TmFtZVVSTDogKCBsYXN0Rmlyc3ROYW1lICkgPT4gewogICAgICAgICAgICAvL01ha2UgYW4gU0VPIGZyaWVuZGx5IFVSTC4KICAgICAgICAgICAgLy9SZXZlcnNlIHRvIGZpcnN0LXN1cm5hbWUgb3JkZXIsIGFuZCByZXBsYWNlIHNwYWNlIGFuZCBjb21tYXMgd2l0aCB1bmRlcnNjb3JlcyB0byBiZSBwcm9wZXJseSBmb3JtYXR0ZWQgVVJMcwogICAgICAgICAgICBsZXQgZmlyc3RMYXN0TmFtZSA9ICIiCiAgICAgICAgICAgIHJldHVybiBmaXJzdExhc3ROYW1lID0gbGFzdEZpcnN0TmFtZS5zcGxpdCgiLCAiKS5yZXZlcnNlKCkuam9pbigiICIpLnJlcGxhY2UoL1sgLF0vZywgIl8iKQogICAgICAgIH0sCiAgICAgICAgcGFnZVN3aXRjaGVyKCkgewogICAgICAgICAgICBjb25zdCB0b3RhbFBhZ2VTZXQgPSB0aGlzLnBhZ2VDb3VudAogICAgICAgIH0sICAgIAogICAgICAgIHRyYXZlc2VQYWdpbmF0aW9uKHRyYXZlcnNlKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB0cmF2ZXJzZQogICAgICAgIH0gIAogICAgfSwKICAgIGZpbHRlcnM6IHsKICAgICAgIGRhdGVGb3JtYXQ6IChib3JuRGllZCkgPT4gewogICAgICAgICAgIGlmIChib3JuRGllZCA9PT0gJycpIHJldHVybgogICAgICAgICAgICBjb25zdCBtb250aHMgPSB7CiAgICAgICAgICAgICAgICAiMDEiOiAiSmFudWFyeSIsCiAgICAgICAgICAgICAgICAiMDIiOiAiRmVicnVhcnkiLAogICAgICAgICAgICAgICAgIjAzIjogIk1hcmNoIiwKICAgICAgICAgICAgICAgICIwNCI6ICJBcHJpbCIsCiAgICAgICAgICAgICAgICAiMDUiOiAiTWF5IiwKICAgICAgICAgICAgICAgICIwNiI6ICJKdW5lIiwKICAgICAgICAgICAgICAgICIwNyI6ICJKdWx5IiwKICAgICAgICAgICAgICAgICIwOCI6ICJBdWd1c3QiLCAgICAgICAgICAgIC8vIGZvciAoaT0wLCBpIDw9IHRvdGFsUGFnZVNldCwgaSsrKSB7CiAgICAgICAgICAgIC8vICAgIGxldCAgCiAgICAgICAgICAgIC8vfQogICAgICAgICAgICAgICAgIjA5IjogIlNlcHRlbWJlciIsCiAgICAgICAgICAgICAgICAiMTAiOiAiT2N0b2JlciIsCiAgICAgICAgICAgICAgICAiMTEiOiAiTm92ZW1iZXIiLAogICAgICAgICAgICAgICAgIjEyIjogIkRlY2VtYmVyIgogICAgICAgICAgICB9OwogICAgICAgICAgICBjb25zdCBkYXRlX2NvbXBvbmVudHMgPSBib3JuRGllZC5zcGxpdCgiLSIpOwogICAgICAgICAgICBjb25zdCB5ZWFyID0gZGF0ZV9jb21wb25lbnRzWzBdOwogICAgICAgICAgICBjb25zdCBtb250aCA9IG1vbnRoc1tkYXRlX2NvbXBvbmVudHNbMV1dOwogICAgICAgICAgICBjb25zdCBkYXkgPSBkYXRlX2NvbXBvbmVudHNbMl07CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBgJHtkYXl9ICR7bW9udGh9ICR7eWVhcn1gOwogICAgICAgICAgICByZXR1cm4gY3VycmVudAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHNvcnRlZEF1dGhvcnMoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGhvckxpc3Quc29ydCggKGEsYikgPT4gewogICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVyID0gMTsKICAgICAgICAgICAgICAgIGlmKHRoaXMuc29ydERpcmVjdGlvbiA9PT0gJ2Rlc2MnKSBtb2RpZmllciA9IC0xCiAgICAgICAgICAgICAgICBpZihhW3RoaXMuc29ydEtleV0gPCBiW3RoaXMuc29ydEtleV0pIHJldHVybiAtMSAqIG1vZGlmaWVyCiAgICAgICAgICAgICAgICBpZihhW3RoaXMuc29ydEtleV0gPiBiW3RoaXMuc29ydEtleV0pIHJldHVybiAxICogbW9kaWZpZXIKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcGFnZUNvdW50KCkgewogICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnNvcnRlZEF1dGhvcnMubGVuZ3RoCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvdW50ID0gTWF0aC5jZWlsKGxlbmd0aC90aGlzLnBhZ2VTaXplKQogICAgICAgIH0sIAogICAgICAgIHBhZ2luYXRlZFRhYmxlKCkgewogICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuY3VycmVudFBhZ2UgKiB0aGlzLnBhZ2VTaXplCiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgdGhpcy5wYWdlU2l6ZQogICAgICAgICAgICBjb25zdCBwYWdpbmF0ZWQgPSB0aGlzLnNvcnRlZEF1dGhvcnMuc2xpY2Uoc3RhcnQsIGVuZCkKICAgICAgICAgICAgLy90aGlzLnBhZ2luYXRpb25MZW5ndGggPSBPYmplY3Qua2V5cyhwYWdpbmF0ZWQpCiAgICAgICAgICAgIHJldHVybiBwYWdpbmF0ZWQKICAgICAgICB9LAogICAgICAgIHJlc3VsdFF1ZXJ5KCl7CiAgICAgICAgICAgIGlmKHRoaXMuc2VhcmNoKXsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNvcnRlZEF1dGhvcnMuZmlsdGVyKChpdGVtKT0+ewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuZXZlcnkodiA9PiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2KSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZWRUYWJsZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["AuthorTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AuthorTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <md-table>\n            <md-table-toolbar>\n                <div class=\"md-toolbar-section-start\">\n                    <div class=\"md-layout-item\">\n                    <md-field>\n                        <md-select v-model=\"pageSize\" name=\"pageSize\" id=\"pageSize\" placeholder=\"Number of rows\">\n                            <!-- <md-option value=\"10\">10</md-option> -->\n                            <md-option value=\"25\">25</md-option>\n                            <md-option value=\"50\">50</md-option>\n                            <md-option value=\"75\">75</md-option>\n                            <md-option value=\"100\">100</md-option>\n                        </md-select>\n                    </md-field>\n                    </div>\n                </div>\n                <md-field md-clearable class=\"md-toolbar-section-end\">\n                    <md-input placeholder=\"Search by name...\" v-model=\"search\" />\n                </md-field>\n            </md-table-toolbar> \n            <md-table-row>\n                <md-table-head\n                    v-for=\"(column, index) in columns\"\n                    :key=\"index\"\n                    >\n                    <span @click=\"sortBy(column)\">{{ column }}</span>\n                </md-table-head>\n            </md-table-row>\n            <md-table-row \n                v-for=\"author in resultQuery\"\n                :key=\"author._id\"\n                itemscope itemtype=\"http://schema.org/author\"\n            >\n                <md-table-cell><router-link :to=\"'/authors/' + lastFirstLastNameURL(author.name)\">{{ author.name }}</router-link></md-table-cell>\n                <md-table-cell>{{ author.born | dateFormat }}</md-table-cell>\n                <md-table-cell>{{ author.died | dateFormat}}</md-table-cell>\n            </md-table-row>\n            <app-pagination-switcher :paginationRange=\"count\" :pagePosition=\"currentPage\" @update=\"travesePagination\" />\n        </md-table>\n    </div>\n</template>\n\n<script>\nimport PaginationSwitcher from '@/components/PaginationSwitcher'\nexport default {\n    data() {\n        return {\n            search: '', //for table search\n            searched: [], //for table search\n            sortKey: 'name',\n            sortDirection: 'asc',\n            columns: ['name', 'born', 'died'],\n            theDate: '',\n            pageSize: 10,\n            currentPage: 1,\n            count: 1\n        }\n    },\n    props: {\n        authorList: Array\n    },\n    components: {\n        appPaginationSwitcher: PaginationSwitcher\n    },\n    methods: {\n        sortBy(sortCriteria) {\n            if (sortCriteria === this.sortKey) {\n                this.sortDirection = (this.sortDirection === 'asc') ? 'desc':'asc'\n            }\n            this.sortKey = sortCriteria\n        },\n        lastFirstLastNameURL: ( lastFirstName ) => {\n            //Make an SEO friendly URL.\n            //Reverse to first-surname order, and replace space and commas with underscores to be properly formatted URLs\n            let firstLastName = \"\"\n            return firstLastName = lastFirstName.split(\", \").reverse().join(\" \").replace(/[ ,]/g, \"_\")\n        },\n        pageSwitcher() {\n            const totalPageSet = this.pageCount\n        },    \n        travesePagination(traverse) {\n            this.currentPage = traverse\n        }  \n    },\n    filters: {\n       dateFormat: (bornDied) => {\n           if (bornDied === '') return\n            const months = {\n                \"01\": \"January\",\n                \"02\": \"February\",\n                \"03\": \"March\",\n                \"04\": \"April\",\n                \"05\": \"May\",\n                \"06\": \"June\",\n                \"07\": \"July\",\n                \"08\": \"August\",            // for (i=0, i <= totalPageSet, i++) {\n            //    let  \n            //}\n                \"09\": \"September\",\n                \"10\": \"October\",\n                \"11\": \"November\",\n                \"12\": \"December\"\n            };\n            const date_components = bornDied.split(\"-\");\n            const year = date_components[0];\n            const month = months[date_components[1]];\n            const day = date_components[2];\n            const current = `${day} ${month} ${year}`;\n            return current\n        }\n    },\n    computed: {\n        sortedAuthors() {\n            return this.authorList.sort( (a,b) => {\n                let modifier = 1;\n                if(this.sortDirection === 'desc') modifier = -1\n                if(a[this.sortKey] < b[this.sortKey]) return -1 * modifier\n                if(a[this.sortKey] > b[this.sortKey]) return 1 * modifier\n                return 0;\n            })\n        },\n        pageCount() {\n            const length = this.sortedAuthors.length\n            return this.count = Math.ceil(length/this.pageSize)\n        }, \n        paginatedTable() {\n            const start = this.currentPage * this.pageSize\n            const end = start + this.pageSize\n            const paginated = this.sortedAuthors.slice(start, end)\n            //this.paginationLength = Object.keys(paginated)\n            return paginated\n        },\n        resultQuery(){\n            if(this.search){\n                return this.sortedAuthors.filter((item)=>{\n                    return this.search.toLowerCase().split(' ').every(v => item.name.toLowerCase().includes(v))\n                })\n            }\n            else {\n                return this.paginatedTable;\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nth {\n    text-transform: capitalize;\n    cursor: pointer;\n}\n</style>\n"]}]}