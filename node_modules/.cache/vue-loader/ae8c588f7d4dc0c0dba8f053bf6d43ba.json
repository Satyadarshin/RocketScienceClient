{"remainingRequest":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/satyadarshin/Documents/www/development/rocket-science/client/src/components/AuthorTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/src/components/AuthorTable.vue","mtime":1599391436725},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/satyadarshin/Documents/www/development/rocket-science/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uU3dpdGNoZXIgZnJvbSAnQC9jb21wb25lbnRzL1BhZ2luYXRpb25Td2l0Y2hlcicKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZWFyY2g6ICcnLCAvL2ZvciB0YWJsZSBzZWFyY2gKICAgICAgICAgICAgc2VhcmNoZWQ6IFtdLCAvL2ZvciB0YWJsZSBzZWFyY2gKICAgICAgICAgICAgc29ydEtleTogJ25hbWUnLAogICAgICAgICAgICBzb3J0RGlyZWN0aW9uOiAnYXNjJywKICAgICAgICAgICAgY29sdW1uczogWyduYW1lJywgJ2Jvcm4nLCAnZGllZCddLAogICAgICAgICAgICB0aGVEYXRlOiAnJywKICAgICAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgICAgICAgY291bnQ6IDEKICAgICAgICB9CiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICBhdXRob3JMaXN0OiBBcnJheQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBhcHBQYWdpbmF0aW9uU3dpdGNoZXI6IFBhZ2luYXRpb25Td2l0Y2hlcgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzb3J0Qnkoc29ydENyaXRlcmlhKSB7CiAgICAgICAgICAgIGlmIChzb3J0Q3JpdGVyaWEgPT09IHRoaXMuc29ydEtleSkgewogICAgICAgICAgICAgICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gKHRoaXMuc29ydERpcmVjdGlvbiA9PT0gJ2FzYycpID8gJ2Rlc2MnOidhc2MnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zb3J0S2V5ID0gc29ydENyaXRlcmlhCiAgICAgICAgfSwKICAgICAgICBsYXN0Rmlyc3RMYXN0TmFtZVVSTDogKCBsYXN0Rmlyc3ROYW1lICkgPT4gewogICAgICAgICAgICAvL01ha2UgYW4gU0VPIGZyaWVuZGx5IFVSTC4KICAgICAgICAgICAgLy9SZXZlcnNlIHRvIGZpcnN0LXN1cm5hbWUgb3JkZXIsIGFuZCByZXBsYWNlIHNwYWNlIGFuZCBjb21tYXMgd2l0aCB1bmRlcnNjb3JlcyB0byBiZSBwcm9wZXJseSBmb3JtYXR0ZWQgVVJMcwogICAgICAgICAgICBsZXQgZmlyc3RMYXN0TmFtZSA9ICIiCiAgICAgICAgICAgIHJldHVybiBmaXJzdExhc3ROYW1lID0gbGFzdEZpcnN0TmFtZS5zcGxpdCgiLCAiKS5yZXZlcnNlKCkuam9pbigiICIpLnJlcGxhY2UoL1sgLF0vZywgIl8iKQogICAgICAgIH0sCiAgICAgICAgcGFnZVN3aXRjaGVyKCkgewogICAgICAgICAgICBjb25zdCB0b3RhbFBhZ2VTZXQgPSB0aGlzLnBhZ2VDb3VudAogICAgICAgIH0sICAgIAogICAgICAgIHRyYXZlcnNlUGFnaW5hdGlvbih0cmF2ZXJzZSkgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdHJhdmVyc2UKICAgICAgICB9ICAKICAgIH0sCiAgICBmaWx0ZXJzOiB7CiAgICAgICBkYXRlRm9ybWF0OiAoYm9ybkRpZWQpID0+IHsKICAgICAgICAgICBpZiAoYm9ybkRpZWQgPT09ICcnKSByZXR1cm4KICAgICAgICAgICAgY29uc3QgbW9udGhzID0gewogICAgICAgICAgICAgICAgIjAxIjogIkphbnVhcnkiLAogICAgICAgICAgICAgICAgIjAyIjogIkZlYnJ1YXJ5IiwKICAgICAgICAgICAgICAgICIwMyI6ICJNYXJjaCIsCiAgICAgICAgICAgICAgICAiMDQiOiAiQXByaWwiLAogICAgICAgICAgICAgICAgIjA1IjogIk1heSIsCiAgICAgICAgICAgICAgICAiMDYiOiAiSnVuZSIsCiAgICAgICAgICAgICAgICAiMDciOiAiSnVseSIsCiAgICAgICAgICAgICAgICAiMDgiOiAiQXVndXN0IiwgICAgICAgICAgICAvLyBmb3IgKGk9MCwgaSA8PSB0b3RhbFBhZ2VTZXQsIGkrKykgewogICAgICAgICAgICAvLyAgICBsZXQgIAogICAgICAgICAgICAvL30KICAgICAgICAgICAgICAgICIwOSI6ICJTZXB0ZW1iZXIiLAogICAgICAgICAgICAgICAgIjEwIjogIk9jdG9iZXIiLAogICAgICAgICAgICAgICAgIjExIjogIk5vdmVtYmVyIiwKICAgICAgICAgICAgICAgICIxMiI6ICJEZWNlbWJlciIKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3QgZGF0ZV9jb21wb25lbnRzID0gYm9ybkRpZWQuc3BsaXQoIi0iKTsKICAgICAgICAgICAgY29uc3QgeWVhciA9IGRhdGVfY29tcG9uZW50c1swXTsKICAgICAgICAgICAgY29uc3QgbW9udGggPSBtb250aHNbZGF0ZV9jb21wb25lbnRzWzFdXTsKICAgICAgICAgICAgY29uc3QgZGF5ID0gZGF0ZV9jb21wb25lbnRzWzJdOwogICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gYCR7ZGF5fSAke21vbnRofSAke3llYXJ9YDsKICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBzb3J0ZWRBdXRob3JzKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRob3JMaXN0LnNvcnQoIChhLGIpID0+IHsKICAgICAgICAgICAgICAgIGxldCBtb2RpZmllciA9IDE7CiAgICAgICAgICAgICAgICBpZih0aGlzLnNvcnREaXJlY3Rpb24gPT09ICdkZXNjJykgbW9kaWZpZXIgPSAtMQogICAgICAgICAgICAgICAgaWYoYVt0aGlzLnNvcnRLZXldIDwgYlt0aGlzLnNvcnRLZXldKSByZXR1cm4gLTEgKiBtb2RpZmllcgogICAgICAgICAgICAgICAgaWYoYVt0aGlzLnNvcnRLZXldID4gYlt0aGlzLnNvcnRLZXldKSByZXR1cm4gMSAqIG1vZGlmaWVyCiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHBhZ2VDb3VudCgpIHsKICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5zb3J0ZWRBdXRob3JzLmxlbmd0aAogICAgICAgICAgICByZXR1cm4gdGhpcy5jb3VudCA9IE1hdGguY2VpbChsZW5ndGgvdGhpcy5wYWdlU2l6ZSkKICAgICAgICB9LCAKICAgICAgICBwYWdpbmF0ZWRUYWJsZSgpIHsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmN1cnJlbnRQYWdlICogdGhpcy5wYWdlU2l6ZQogICAgICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIHRoaXMucGFnZVNpemUKICAgICAgICAgICAgY29uc3QgcGFnaW5hdGVkID0gdGhpcy5zb3J0ZWRBdXRob3JzLnNsaWNlKHN0YXJ0LCBlbmQpCiAgICAgICAgICAgIC8vdGhpcy5wYWdpbmF0aW9uTGVuZ3RoID0gT2JqZWN0LmtleXMocGFnaW5hdGVkKQogICAgICAgICAgICByZXR1cm4gcGFnaW5hdGVkCiAgICAgICAgfSwKICAgICAgICByZXN1bHRRdWVyeSgpewogICAgICAgICAgICBpZih0aGlzLnNlYXJjaCl7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRBdXRob3JzLmZpbHRlcigoaXRlbSk9PnsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2gudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLmV2ZXJ5KHYgPT4gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModikpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGVkVGFibGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["AuthorTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AuthorTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <md-table>\n            <md-table-toolbar>\n                <div class=\"md-toolbar-section-start\">\n                    <div class=\"md-layout-item\">\n                    <md-field>\n                        <md-select v-model=\"pageSize\" name=\"pageSize\" id=\"pageSize\" placeholder=\"Number of rows\">\n                            <!-- <md-option value=\"10\">10</md-option> -->\n                            <md-option value=\"25\">25</md-option>\n                            <md-option value=\"50\">50</md-option>\n                            <md-option value=\"75\">75</md-option>\n                            <md-option value=\"100\">100</md-option>\n                        </md-select>\n                    </md-field>\n                    </div>\n                </div>\n                <md-field md-clearable class=\"md-toolbar-section-end\">\n                    <md-input placeholder=\"Search by name...\" v-model=\"search\" />\n                </md-field>\n            </md-table-toolbar> \n            <md-table-row>\n                <md-table-head\n                    v-for=\"(column, index) in columns\"\n                    :key=\"index\"\n                    >\n                    <span @click=\"sortBy(column)\">{{ column }}</span>\n                </md-table-head>\n            </md-table-row>\n            <md-table-row \n                v-for=\"author in resultQuery\"\n                :key=\"author._id\"\n                itemscope itemtype=\"http://schema.org/author\"\n            >\n                <md-table-cell><router-link :to=\"'/authors/' + lastFirstLastNameURL(author.name)\">{{ author.name }}</router-link></md-table-cell>\n                <md-table-cell>{{ author.born | dateFormat }}</md-table-cell>\n                <md-table-cell>{{ author.died | dateFormat}}</md-table-cell>\n            </md-table-row>\n            <app-pagination-switcher :paginationRange=\"count\" :pagePosition=\"currentPage\" @update=\"traversePagination\" />\n        </md-table>\n    </div>\n</template>\n\n<script>\nimport PaginationSwitcher from '@/components/PaginationSwitcher'\nexport default {\n    data() {\n        return {\n            search: '', //for table search\n            searched: [], //for table search\n            sortKey: 'name',\n            sortDirection: 'asc',\n            columns: ['name', 'born', 'died'],\n            theDate: '',\n            pageSize: 10,\n            currentPage: 1,\n            count: 1\n        }\n    },\n    props: {\n        authorList: Array\n    },\n    components: {\n        appPaginationSwitcher: PaginationSwitcher\n    },\n    methods: {\n        sortBy(sortCriteria) {\n            if (sortCriteria === this.sortKey) {\n                this.sortDirection = (this.sortDirection === 'asc') ? 'desc':'asc'\n            }\n            this.sortKey = sortCriteria\n        },\n        lastFirstLastNameURL: ( lastFirstName ) => {\n            //Make an SEO friendly URL.\n            //Reverse to first-surname order, and replace space and commas with underscores to be properly formatted URLs\n            let firstLastName = \"\"\n            return firstLastName = lastFirstName.split(\", \").reverse().join(\" \").replace(/[ ,]/g, \"_\")\n        },\n        pageSwitcher() {\n            const totalPageSet = this.pageCount\n        },    \n        traversePagination(traverse) {\n            this.currentPage = traverse\n        }  \n    },\n    filters: {\n       dateFormat: (bornDied) => {\n           if (bornDied === '') return\n            const months = {\n                \"01\": \"January\",\n                \"02\": \"February\",\n                \"03\": \"March\",\n                \"04\": \"April\",\n                \"05\": \"May\",\n                \"06\": \"June\",\n                \"07\": \"July\",\n                \"08\": \"August\",            // for (i=0, i <= totalPageSet, i++) {\n            //    let  \n            //}\n                \"09\": \"September\",\n                \"10\": \"October\",\n                \"11\": \"November\",\n                \"12\": \"December\"\n            };\n            const date_components = bornDied.split(\"-\");\n            const year = date_components[0];\n            const month = months[date_components[1]];\n            const day = date_components[2];\n            const current = `${day} ${month} ${year}`;\n            return current\n        }\n    },\n    computed: {\n        sortedAuthors() {\n            return this.authorList.sort( (a,b) => {\n                let modifier = 1;\n                if(this.sortDirection === 'desc') modifier = -1\n                if(a[this.sortKey] < b[this.sortKey]) return -1 * modifier\n                if(a[this.sortKey] > b[this.sortKey]) return 1 * modifier\n                return 0;\n            })\n        },\n        pageCount() {\n            const length = this.sortedAuthors.length\n            return this.count = Math.ceil(length/this.pageSize)\n        }, \n        paginatedTable() {\n            const start = this.currentPage * this.pageSize\n            const end = start + this.pageSize\n            const paginated = this.sortedAuthors.slice(start, end)\n            //this.paginationLength = Object.keys(paginated)\n            return paginated\n        },\n        resultQuery(){\n            if(this.search){\n                return this.sortedAuthors.filter((item)=>{\n                    return this.search.toLowerCase().split(' ').every(v => item.name.toLowerCase().includes(v))\n                })\n            }\n            else {\n                return this.paginatedTable;\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nth {\n    text-transform: capitalize;\n    cursor: pointer;\n}\n</style>\n"]}]}